/* Tailwind CSS v4 */
@import "tailwindcss";

/* 기본 스타일 */
@layer base {
  html {
    font-family:
      'Pretendard Variable',
      Pretendard,
      -apple-system,
      BlinkMacSystemFont,
      system-ui,
      Roboto,
      'Helvetica Neue',
      'Segoe UI',
      'Apple SD Gothic Neo',
      'Noto Sans KR',
      'Malgun Gothic',
      'Apple Color Emoji',
      'Segoe UI Emoji',
      'Segoe UI Symbol',
      sans-serif;
  }

  body {
    background-color: var(--color-gray-50);
    color: var(--color-gray-900);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* 스크롤바 스타일 */
@utility scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: var(--color-gray-300) transparent;

  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background-color: var(--color-gray-300);
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-gray-400);
  }
}

/* 애니메이션 */
@utility animate-in {
  animation-duration: 0.2s;
  animation-timing-function: ease-out;
  animation-fill-mode: forwards;
}

@utility fade-in {
  animation-name: fade-in;
}

@utility zoom-in-95 {
  animation-name: zoom-in-95;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes zoom-in-95 {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Apple Pencil 터치 최적화 */
@layer base {
  canvas {
    touch-action: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
}

/* js-draw 캔버스 경계선 숨기기 */
@layer components {
  .annotation-canvas {
    /* js-draw 내부 SVG 경계선 숨기기 */
    & svg {
      border: none !important;
      outline: none !important;
    }

    /* js-draw 배경 rect 요소의 stroke 제거 */
    & svg > rect:first-child,
    & svg rect[fill="white"],
    & svg rect[fill="#ffffff"],
    & svg rect[fill="rgb(255, 255, 255)"] {
      stroke: none !important;
      stroke-width: 0 !important;
    }

    /* js-draw 배경 컴포넌트 경계선 숨기기 */
    & .js-draw-image-background,
    & [data-js-draw-background] {
      stroke: none !important;
      border: none !important;
    }

    /* js-draw 에디터 루트 요소 경계선 숨기기 */
    & > div {
      border: none !important;
      outline: none !important;
    }
  }
}

/* PWA 안전 영역 */
@utility safe-top {
  padding-top: env(safe-area-inset-top);
}

@utility safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

@utility safe-left {
  padding-left: env(safe-area-inset-left);
}

@utility safe-right {
  padding-right: env(safe-area-inset-right);
}
